<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="QnAMapper">
	

	<!-- QnA List 불러오기 -->
	<select id="qnaList" resultType="com.dto.QnADTO">
	   select qino1, thetext1, thefile1, 
	   qino2, thetext2, thefile2, 
	   qino3, thetext3, thefile3, 
	   qno, uno, hno,
	   title, question, answer, qopen,
	   to_char(createdate,'YYYY/MM/DD') createdate
	   from qna
	   order by qno desc
	</select>
	
	<!-- QnA Write 쓰기 -->
	<insert id="qnaInsert" parameterType="com.dto.QnADTO">
       insert into 
       qna( 
       qino1, thetext1, thefile1, 
	   qino2, thetext2, thefile2, 
	   qino3, thetext3, thefile3, 
       qno, uno, hno, title, question)
       values( 
       SEQ_QNA_IMG_QINO1.nextval, #{thetext1}, #{thefile1},
       SEQ_QNA_IMG_QINO2.nextval, #{thetext2}, #{thefile2},
       SEQ_QNA_IMG_QINO3.nextval, #{thetext3}, #{thefile3},
       SEQ_QNA_QNO.nextval, #{uno}, #{title}, #{hno}, #{question} )
    </insert>

	<!-- QnA Retrieve 쓰기 -->
	<select id="qnaRetrieve"  parameterType="int"  resultType="com.dto.QnADTO">
	   select qino1, thetext1, thefile1, 
	   qino2, thetext2, thefile2, 
	   qino3, thetext3, thefile3,
	   qno, uno, hno,
	   title, question, answer, qopen,
	   to_char(createdate,'YYYY/MM/DD') createdate
	   from qna
	   where qno = #{qno}
	</select>
	
	<!-- QnA Delete -->
	<delete id="qnaDelete" parameterType="int">
	 delete from qna
	 where qno = #{qno}
	</delete>
	 
	<!-- QnA Update -->
	<update id="qnaUpdate" parameterType="com.dto.QnADTO">
	 update qna
	 set 
	 qino1=#{qino1}, thetext1=#{thetext1}, thefile1=#{thefile1}, 
	 qino2=#{qino2}, thetext2=#{thetext2}, thefile2=#{thefile2}, 
	 qino3=#{qino3}, thetext3=#{thetext3}, thefile3=#{thefile3},
	 uno=#{uno}, hno=#{hno}, title=#{title}, question=#{question}
	 where qno = #{qno}
	</update>
	
	
</mapper>



